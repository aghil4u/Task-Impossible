@model iTask

@{
    ViewData["Title"] = "Create";
    Layout = "_LayoutWizard";
}


<!-- Big container -->
<div class="container">
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2">
            <!-- Wizard container -->
            <div class="wizard-container">
                <div class="card wizard-card" data-color="purple" id="wizard">
                    <form asp-controller="Tasks" asp-action="Create" novalidate="novalidate">

                        <div class="wizard-header">
                            <h3 class="wizard-title">
                                Create A Task
                            </h3>
                            <h5>Let us walk you through this.</h5>
                        </div>
                        <div class="wizard-navigation">
                            <ul class="nav nav-pills">
                                <li class="active" style="width: 25%;">
                                    <a href="#tasktitle" data-toggle="tab" aria-expanded="true">TITLE</a>
                                </li>
                                <li class="" style="width: 25%;">
                                    <a href="#type" data-toggle="tab" aria-expanded="false">DETAILS</a>
                                </li>
                                <li style="width: 25%;">
                                    <a href="#loc" id="maptab" data-toggle="tab">Location</a>
                                </li>
                                <li style="width: 25%;">
                                    <a href="#description" data-toggle="tab">Renumeration</a>
                                </li>
                                <li style="width: 25%;">
                                    <a href="#last" data-toggle="tab">Finish</a>
                                </li>
                            </ul>
                            <div class="moving-tab" style="transform: translate3d(-8px, 0px, 0px); transition: all 0.5s cubic-bezier(0.29, 1.42, 0.79, 1); width: 187.5px;">Title</div>
                        </div>

                        <div class="tab-content">
                            <div class="tab-pane active" id="tasktitle">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <h4 class="info-text"> Give your Task a Title.</h4>
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-2" style="margin-top: 5rem">
                                        <div class="form-group label-floating is-empty">
                                            <label class="control-label">I want a Tasker to...</label>
                                            <input type="text" class="form-control" asp-for="Title" id="tasktitlefield">
                                            <span class="material-input"></span>
                                        </div>
                                    </div>


                                </div>
                            </div>


                            <div class="tab-pane" id="type">
                                <h4 class="info-text">Give us some details. </h4>
                                <div class="row" style="margin-top: -2rem;">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <div class="form-group label-floating is-empty">
                                            <label class="control-label">Task description</label>
                                            <textarea class="form-control" asp-for="Description" placeholder="" rows="9"></textarea>
                                            <span class="material-input"></span>
                                            <span class="material-input"></span>
                                        </div>
                                    </div>

                                    <div class="col-sm-5 col-sm-offset-1">
                                        <div class="form-group">
                                            <label class="control-label">Start Date</label>
                                            <input type="datetime" asp-for="CreationDate" class="form-control datetimepicker">
                                            <span class="material-input"></span>
                                        </div>
                                    </div>

                                    <div class="col-sm-5">
                                        <div class="form-group">
                                            <label class="control-label">End Date Date</label>
                                            <input type="datetime" asp-for="TargetDate" class="form-control datetimepicker">
                                            <span class="material-input"></span>
                                        </div>
                                    </div>
                                </div>

                            </div>


                            <div class="tab-pane" id="loc"style="margin-left: -15px; margin-right: -15px;">
                                <h4 class="info-text"> Show us the location of the task. </h4>

                                <div class="row">
                                    <div class="col-sm-12">

                                        <div id="map" class="big-map" style="height: 300px; width: 100%;"></div>

                                        <div class="form-group" style="margin-left: 5rem; margin-right: 5rem; margin-top: -5px;">
                                            @*<label class="control-label">Location</label>*@
                                            <input type="text" id="locText" asp-for="Location" class="form-control">
                                            <span class="material-input"></span>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="tab-pane" id="description">
                                <div class="row">
                                    <h4 class="info-text"> Tell us about your Budget. </h4>
                                    <div class="col-sm-8 col-sm-offset-2" style="margin-top: 5rem">
                                        <div class="form-group label-floating is-empty">
                                            <label class="control-label">Im Ready to Pay...</label>
                                            <input type="text" class="form-control" asp-for="Renumeration">
                                            <span class="material-input"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="last">
                                <div class="row">
                                    <h4 class="info-text"> Review your Task Listing. </h4>
                                    <div class="col-sm-6 col-sm-offset-1">
                                        <div class="form-group label-floating is-empty">
                                            <label class="control-label">Place description</label>
                                            <textarea class="form-control" placeholder="" rows="9"></textarea>
                                            <span class="material-input"></span>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group label-floating">
                                            <label class="control-label">Example</label>
                                            <p class="description">"The place is really nice. We use it every sunday when we go fishing. It is so awesome."</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wizard-footer">
                            <div class="pull-right">
                                <input type="button" class="btn btn-next btn-fill btn-primary btn-wd" name="next" value="Next">
                                <input type="submit" class="btn btn-finish btn-fill btn-primary btn-wd" name="finish" value="Finish" style="display: none;">
                            </div>
                            <div class="pull-left">
                                <input type="button" class="btn btn-previous btn-fill btn-default btn-wd disabled" name="previous" value="Previous">
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </form>
                </div>
            </div> <!-- wizard container -->
        </div>
    </div> <!-- row -->
</div> <!-- big container -->

<div class="footer">
    <div class="container text-center">
        Made with <i class="fa fa-heart heart"></i> by <a href="http://www.idkw.im"> The Impossible Team</a>.
    </div>
</div>


<script>
    // Note: This example requires that you consent to location sharing when
    // prompted by your browser. If you see the error "The Geolocation service
    // failed.", it means you probably did not give permission for the browser to
    // locate you.
    var map, pos, marker;

    function initMap() {

        pos = { lat: -34.397, lng: 150.644 };
        map = new google.maps.Map(document.getElementById('map'),
            {
                center: pos,
                zoom: 10,
                zoomControl: true,
                mapTypeControl: false,
                scaleControl: false,
                streetViewControl: false,
                rotateControl: false,
                fullscreenControl: true,
                geolocationControl: true
            });
        marker = new google.maps.Marker({
            map: map,
            position: pos,
            title: "{{ location.name }}",
            draggable: true,
        });
        marker.setMap(map);
        //marker.addListener('drag', handleDragEvent);
        marker.addListener('dragend', handleDragEvent);

        BindResizeEvent();


        // Try HTML5 geolocation.
        if (navigator.geolocation) {

            navigator.geolocation.getCurrentPosition(function(position) {
                pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };

                marker = new google.maps.Marker({
                    map: map,
                    position: pos,
                    title: "{{ location.name }}",
                    draggable: true,
                });
                //marker.addListener('drag', handleDragEvent);
                marker.addListener('dragend', handleDragEvent);
                marker.setMap(map);
                map.setCenter(pos);
            });

        }
    }


    function handleDragEvent(event) {
        var geocoder = new google.maps.Geocoder;
        geocoder.geocode({ 'location': event.latLng },
            function(results, status) {
                if (status === 'OK') {
                    if (results[0]) {
                        document.getElementById('locText').value = results[0].formatted_address;
                    } else {
                        document.getElementById('locText').value = event.latLng.lat() + "   " + event.latLng.lng();
                    }

                } else {
                    document.getElementById('locText').value = event.latLng.lat() + "   " + event.latLng.lng();
                }


            });
    }


    function BindResizeEvent() {
        $("a[href='#loc']").on('shown.bs.tab',
            function() {
                google.maps.event.trigger(map, 'resize');
                map.setCenter(pos);
            });
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAvbpO6ps576pAmEBvWg9yTrjGrgyy4nCU&callback=initMap">
</script>

@*<script src="~/lib/jquery/dist/jquery.js"></script>*@
<script type="text/javascript">

    $(document).ready(function() {

        materialKit.initFormExtendedDatetimepickers();

    });
</script>

@*<div class="page-header header-filter" filter-color="purple" style="background-position: top center; background-size: cover; height: 100%; padding-bottom: 100px;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="card card-signup" style="padding-bottom: 50px; padding-top: 50px;">
                    <h2 class="card-title text-center">Create a Task</h2>
                    <div class="row">


                        <div class="col-md-5 col-md-offset-1">
                            <form class="form" asp-action="Create">
                                <div class="card-content">
                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">face</i>
                                        </span>
                                        <div class="form-group is-empty">
                                            <input class="form-control" placeholder="Give this Task a Title..." asp-for="Title" type="text">
                                        </div>
                                    </div>

                                   
                                    <div class="form-group label-floating" style="margin-left: 50px;">
                                       
                                        <label class="control-label">Explain the Task for us</label>
                                        <textarea name="message" class="form-control" asp-for="Description" rows="6"></textarea>

                                    </div>


                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">room</i>
                                        </span>
                                        <div class="form-group is-empty">
                                            <input class="form-control" placeholder="Location" asp-for="Location" type="text">
                                        </div>
                                    </div>



                                    <div class="form-group" style="margin-left: 5rem">
                                        <label class="label-control">Datetime Picker</label>
                                        <input class="form-control datetimepicker" value="10/05/2016" style="" type="text">
                                        
                                    </div>

                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">face</i>
                                        </span>
                                        <div class="form-group is-empty">
                                            <input class="form-control" placeholder="Choose a Category" asp-for="Category" type="text">
                                        </div>
                                    </div>

                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">face</i>
                                        </span>
                                        <div class="form-group is-empty">
                                            <input class="form-control" placeholder="Type of task" asp-for="Type" type="text">
                                        </div>
                                    </div>

                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="material-icons">face</i>
                                        </span>
                                        <div class="form-group is-empty">
                                            <input class="form-control" placeholder="Renumeration" asp-for="Renumeration" type="text">
                                        </div>
                                    </div>


                                     If you want to add a checkbox to this form, uncomment this code 
                                    <div class="checkbox">
                                        <label>
                                            <input name="optionsCheckboxes" checked="" type="checkbox">
                                            Negotiable
                                        </label>
                                    </div>
                                </div>
                                <div class="footer text-center">
                                    <input type="submit" value="Create" class="btn btn-primary btn-round"/>

                                </div>
                            </form>
                        </div>

                        <div class="col-md-5 hidden-sm hidden-xs">
                            <div class="info info-horizontal">
                                <div class="icon icon-rose">
                                    <i class="material-icons">timeline</i>
                                </div>
                                <div class="description">
                                    <h4 class="info-title">Make it clear</h4>
                                    <p class="description">
                                        Give the task a simple title and clear Description to get things started.
                                    </p>
                                </div>
                            </div>

                            <div class="info info-horizontal">
                                <div class="icon icon-primary">
                                    <i class="material-icons">code</i>
                                </div>
                                <div class="description">
                                    <h4 class="info-title">Give it a Deadline</h4>
                                    <p class="description">
                                       Let us know when you want this to be completed
                                    </p>
                                </div>
                            </div>

                            <div class="info info-horizontal">
                                <div class="icon icon-info">
                                    <i class="material-icons">group</i>
                                </div>
                                <div class="description">
                                    <h4 class="info-title">Give it a Price</h4>
                                    <p class="description">
                                        Mention your budget for the task and if your willing for a negotiation to avoid surprises.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<script src="~/lib/jquery/dist/jquery.js"></script>
<script type="text/javascript">

    $(document).ready(function(){

        materialKit.initFormExtendedDatetimepickers();

    });
</script>*@

@*<h2>Create</h2>

<h4>iTask</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form asp-action="Create">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Owner" class="control-label"></label>
                <input asp-for="Owner" class="form-control" />
                <span asp-validation-for="Owner" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Title" class="control-label"></label>
                <input asp-for="Title" class="form-control" />
                <span asp-validation-for="Title" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Description" class="control-label"></label>
                <input asp-for="Description" class="form-control" />
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Category" class="control-label"></label>
                <input asp-for="Category" class="form-control" />
                <span asp-validation-for="Category" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Type" class="control-label"></label>
                <input asp-for="Type" class="form-control" />
                <span asp-validation-for="Type" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Location" class="control-label"></label>
                <input asp-for="Location" class="form-control" />
                <span asp-validation-for="Location" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Lat" class="control-label"></label>
                <input asp-for="Lat" class="form-control" />
                <span asp-validation-for="Lat" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Lon" class="control-label"></label>
                <input asp-for="Lon" class="form-control" />
                <span asp-validation-for="Lon" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Radius" class="control-label"></label>
                <input asp-for="Radius" class="form-control" />
                <span asp-validation-for="Radius" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="NegotiationMarker" class="control-label"></label>
                <input asp-for="NegotiationMarker" class="form-control" />
                <span asp-validation-for="NegotiationMarker" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Status" class="control-label"></label>
                <input asp-for="Status" class="form-control" />
                <span asp-validation-for="Status" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="CreationDate" class="control-label"></label>
                <input asp-for="CreationDate" class="form-control" />
                <span asp-validation-for="CreationDate" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="TargetDate" class="control-label"></label>
                <input asp-for="TargetDate" class="form-control" />
                <span asp-validation-for="TargetDate" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="ClosingDate" class="control-label"></label>
                <input asp-for="ClosingDate" class="form-control" />
                <span asp-validation-for="ClosingDate" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Renumeration" class="control-label"></label>
                <input asp-for="Renumeration" class="form-control" />
                <span asp-validation-for="Renumeration" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="PaymentTerms" class="control-label"></label>
                <input asp-for="PaymentTerms" class="form-control" />
                <span asp-validation-for="PaymentTerms" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Currency" class="control-label"></label>
                <input asp-for="Currency" class="form-control" />
                <span asp-validation-for="Currency" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="CoverPhoto" class="control-label"></label>
                <input asp-for="CoverPhoto" class="form-control" />
                <span asp-validation-for="CoverPhoto" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </form>
    </div>
</div>

<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}*@